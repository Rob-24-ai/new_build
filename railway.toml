[build]
builder = "nixpacks"
buildCommand = "pip install -r backend_api/requirements.txt"

[deploy]
startCommand = "python -c 'import os; from uvicorn import run; port = int(os.environ.get("PORT", 8000)); run("backend_api.main:app", host="0.0.0.0", port=port)'"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
